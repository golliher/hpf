{% load staticfiles %}

<!DOCTYPE html>
<html>
<meta name="viewport" content="initial-scale = 1.0,maximum-scale = 1.0" />

    <head>
        <meta charset="utf-8">

		<link href="{% static "photoswipe.css" %}" type="text/css" rel="stylesheet" />
		<script src="http://autobahn.s3.amazonaws.com/js/autobahn.min.js"></script>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>	
		<script type="text/javascript" src="{% static "klass.min.js" %} "> </script>
		<script type="text/javascript" src="{% static "code.photoswipe.jquery-3.0.5.min.js" %}" ></script>
		<script type="text/javascript" src="{% static "hpf.js" %}" ></script>
	    

        <title>Minimal Django File Upload Example</title>   

		<script type="text/javascript">

			(function(window, PhotoSwipe){

				document.addEventListener('DOMContentLoaded', function(){

					var
						options = {},
						instance = PhotoSwipe.attach( window.document.querySelectorAll('#Gallery a'), options );

				}, false);


			}(window, window.Code.PhotoSwipe));

		</script>


    </head>
    <body>
        <!-- Upload form. Note enctype attribute! -->
        <form action="{% url list %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <p>{{ form.non_field_errors }}</p>
            <p>{{ form.docfile.label_tag }} {{ form.docfile.help_text }}</p>
            <p>
                {{ form.docfile.errors }}
                {{ form.docfile }}
            </p>
            <p><input type="submit" value="Upload" /></p>
        </form>

	    <!-- List of uploaded documents -->
	    {% if documents %}
	
	
		<ul id="Gallery" class="gallery">
	        {% for document in documents %}
            <li><a href="{{ document.docfile.url }}">{{ document.docfile.name }}</a></li> 
	        {% endfor %}
	        </ul>
	    {% else %}
	        <p>No documents.</p>
	    {% endif %}

		<a href="/">Return Home</a>


    </body>
</html>